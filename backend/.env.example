# ============================================
# LOCAL DEVELOPMENT CONFIGURATION
# ============================================

# Database Configuration (Local Docker PostgreSQL)
# For local development, use Docker Compose or local PostgreSQL
DATABASE_URL=""
DB_HOST=localhost
DB_PORT=5432
DB_NAME=daily_report
DB_USER=postgres
DB_PASSWORD=postgres

# Alternative: Use DATABASE_URL for cloud databases (Railway, Heroku, etc.)
# DATABASE_URL=postgresql://username:password@host:port/database
# Example: DATABASE_URL=postgresql://postgres:password@localhost:5432/daily_report

# Server Configuration
PORT=3000
NODE_ENV=development

# Frontend URL for CORS
# This is the primary origin allowed for cross-origin requests
# For local development: http://localhost:5173
# For production: Set to your deployed frontend URL (e.g., https://your-app.vercel.app)
FRONTEND_URL=http://localhost:5173

# JWT Configuration
# REQUIRED IN PRODUCTION: Use a strong, randomly generated secret
# Generate one using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# WARNING: The default value will cause the server to fail to start in production mode
# Minimum recommended length: 32 characters
JWT_SECRET=your-secret-key-change-this-in-production
JWT_EXPIRES_IN=7d

# HTTPS Configuration
# Set to 'true' if backend is served over HTTPS (production, Render, ngrok HTTPS)
BACKEND_HTTPS=false

# Timezone Configuration
# Timezone offset in hours (e.g., 5.5 for IST, UTC+5:30)
# Defaults to 5.5 (IST) if not specified
# Examples: 5.5 (IST), 0 (UTC), -5 (EST), 9 (JST)
TIMEZONE_OFFSET_HOURS=5.5

# Admin User Configuration
# Default admin account created during database migration
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=ChangeMe123!
ADMIN_NAME=Admin User

# ============================================
# MICROSOFT TEAMS INTEGRATION
# ============================================

# Enable/Disable Teams Daily Summary
# Set to 'true' to enable automatic daily summaries sent to Teams
# Set to 'false' to disable (useful for development)
ENABLE_TEAMS_SUMMARY=false

# Global Microsoft Teams Webhook URL
# This is the fallback webhook URL used when teams don't have individual webhooks configured
# To get a webhook URL:
# 1. Go to your Teams channel
# 2. Click the three dots (...) next to the channel name
# 3. Select "Connectors" or "Workflows"
# 4. Add "Incoming Webhook"
# 5. Configure and copy the webhook URL
TEAMS_WEBHOOK_URL=https://yourcompany.webhook.office.com/webhookb2/your-webhook-id

# Note: Individual teams can have their own webhook URLs configured in the database
# via the teams.webhook_url column. The global webhook is used as a fallback.

# ============================================
# PRODUCTION CONFIGURATION EXAMPLE
# ============================================

# For production deployment (Render, Railway, etc.), use these settings:
#
# REQUIRED VARIABLES (server will fail to start if missing):
# JWT_SECRET=<generate-strong-random-secret-64-chars>  # REQUIRED - Must be set and not default value
#
# OPTIONAL VARIABLES (have defaults but should be configured):
# DATABASE_URL=postgresql://username:password@host:port/database
# PORT=3000
# NODE_ENV=production
# FRONTEND_URL=https://your-frontend-app.vercel.app
# JWT_EXPIRES_IN=7d
# BACKEND_HTTPS=true
# TIMEZONE_OFFSET_HOURS=5.5
# ADMIN_EMAIL=admin@yourcompany.com
# ADMIN_PASSWORD=<strong-secure-password>
# ADMIN_NAME=Admin User
# ENABLE_TEAMS_SUMMARY=true
# TEAMS_WEBHOOK_URL=https://yourcompany.webhook.office.com/webhookb2/your-webhook-id
#
# PRODUCTION SECURITY NOTES:
# 1. JWT_SECRET: Must be changed from default value. Use a cryptographically secure random string.
# 2. ADMIN_PASSWORD: Use a strong password (minimum 12 characters, mix of letters, numbers, symbols).
# 3. BACKEND_HTTPS: Set to 'true' when deployed behind HTTPS reverse proxy.
# 4. NODE_ENV: Set to 'production' to enable production optimizations and disable debug logging.
# 5. Database credentials: Never commit real credentials. Use environment variables or secrets management.
#
# Note: The Vercel pattern (https://your-app-*.vercel.app) is automatically allowed
# via pattern matching, so all Vercel deployments will work.
